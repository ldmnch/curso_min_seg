coord_flip()
ggplot(df, aes(x=provincia))+
geom_bar()+
coord_flip()
df %>% group_by(provincia, cant_vic)%>%
summarise(n=n())
df %>% group_by(provincia)%>%
summarise(total=sum(cant_vic))
df %>% group_by(provincia)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=provincia))+
geom_bar()
df %>% group_by(provincia)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=provincia, y = total))+
geom_bar()
df %>% group_by(provincia)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=provincia, y = total))+
geom_col()
ggplot(df, aes(x=provincia))+
geom_bar()+
coord_flip()
df %>% group_by(provincia)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=provincia, y = total))+
geom_col() +
coord_flip()
df %>% group_by(provincia, anio)%>%
summarise(total=sum(cant_vic))
df %>% group_by(provincia, anio)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=anio, fill = provincia, size = total))+
geom_point()
df %>% group_by(provincia, anio)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=anio, fill = provincia))+
geom_point()
df %>% group_by(provincia, anio)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=anio, fill = provincia, y = total))+
geom_point()
df %>% group_by(provincia, anio)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=anio, color = provincia, y = total))+
geom_point()
df %>% group_by(provincia, cant_vic)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=provincia, y = total))+
geom_col() +
coord_flip()
ggplot(df, aes(x=provincia))+
geom_bar()
ggplot(df, aes(x=provincia))+
geom_bar()+
theme(axis.text.x = element_text(angle = 90))
ggplot(df, aes(x=provincia))+
geom_bar()+
coord_flip()
ggplot(df, aes(x=provincia))+
geom_bar()+
coord_flip()+
labs(
title = "Homcidios dolosos registrados por provincia",
subtitle = "2017-2020",
caption = "Fuente: Ministerio de Seguridad de la Naci√≥n",
x = "Provincia",
y = "n"
)
knitr::opts_chunk$set(echo=FALSE)
df <- read.csv("./data/Base_PUFEAF.csv")
knitr::opts_chunk$set(echo=FALSE)
knitr::opts_chunk$set(echo=TRUE, message=FALSE, warning=FALSE, collapse=TRUE, highlight=TRUE, paged.print=FALSE, prompt=TRUE, strip.white=FALSE)
library(tidyverse)
df <- readxl::read_xlsx("data/Integrado_HD_base_usuaria_2017-2020.xlsx")
ggplot()
ggplot(df, aes(x=anio))+
geom_bar()
View(df)
df%>% group_by(anio, mes) %>%
summarise(n=n())
df%>% group_by(anio, mes) %>%
summarise(n=n())
tabla_anio_mes <- df%>% group_by(anio, mes) %>%
summarise(n=n())
ggplot(tabla_anio_mes, aes(x=as.character(anio), y = n))+
geom_boxplot()
tabla_prov <- df%>% group_by(provincia) %>%
summarise(n=n())
df%>% group_by(provincia) %>%
summarise(n=n())
ggplot(tabla_prov, aes(x=provincia, y = n))+
geom_boxplot()
ggplot(tabla_prov, aes(x=anio, y = n))+
geom_boxplot()
tabla_prov <- df%>% group_by(anio, provincia) %>%
summarise(n=n())
ggplot(tabla_prov, aes(x=anio, y = n))+
geom_boxplot()
ggplot(tabla_prov, aes(x=as.character(anio), y = n))+
geom_boxplot()
ggplot(tabla_prov, aes(x=as.character(anio), y = provincia))+
geom_boxplot()
tabla_prov <- df%>% group_by(anio, provincia) %>%
summarise(n=n())
ggplot(tabla_prov, aes(x=as.character(anio), y = provincia))+
geom_boxplot()
ggplot(tabla_prov, aes(y = n))+
geom_boxplot()
tabla_anio <- df%>% group_by(anio, mes) %>%
summarise(n=n())
ggplot(tabla_prov, aes(y = n))+
geom_boxplot()
ggplot(tabla_prov, aes(x = as.character(anio), y = n))+
geom_boxplot()
tabla_anio <- df%>% group_by(anio, mes) %>%
summarise(n=n())
ggplot(tabla_anio, aes(x = as.character(anio), y = n))+
geom_boxplot()
View(df)
ggplot(df, aes(x = as.character(anio), y = cant_inc))+
geom_boxplot()
ggplot(df, aes(x = as.character(anio), y = cant_vic))+
geom_boxplot()
table(df$otro_identidad_genero_victima)
table(df$identidad_genero_victima)
df %>% group_by(identidad_genero_inculpado, identidad_genero_victima)%>%
df %>% group_by(identidad_genero_inculpado, identidad_genero_victima)%>% summarise(n=n())
df %>% group_by(identidad_genero_inculpado, identidad_genero_victima)%>% summarise(n=n())
df %>% group_by(sexo_inculpado, identidad_genero_victima)%>% summarise(n=n())
ggplot(df, aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "stack")
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "stack")
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")
colores <- c('red', 'black')
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(colores)
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)
display.brewer.all()
library(RColorBrewer)
display.brewer.all()
colores <- c('darkorchid2', 'forestgreen')
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_brewer(palette = "Spectral")
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_brewer(palette = "Set1")
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_viridis_d()
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_viridis_d('magma')
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_viridis_d(option="magma")
colores <- c("Femenino" = 'forestgreen', "Masculino" = 'darkorchid2')
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)
ggplot(df, aes(x=anio, fill = provincia))+
geom_point()
df%>% group_by(anio, provincia) %>%
summarise(n=n())
df_anio_prov <- df%>% group_by(anio, provincia) %>%
summarise(n=n())
ggplot(df_anio_prov, aes(x=anio, y = n, fill = provincia))+
geom_point()
ggplot(df_anio_prov, aes(x=anio, y = n, color = provincia))+
geom_point()
colores <- c("Femenino" = 'forestgreen', "Masculino" = 'darkorchid2')
colores <- c("Femenino" = 'forestgreen', "Masculino" = 'darkorchid2')
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)+
theme_dark()
ggplot(df, aes(x=anio, color = provincia))+
geom_point()
df %>% group_by(anio, provinc, cant_vic) %>%
summarise(n=n())
df %>% group_by(anio, provincia, cant_vic) %>%
summarise(n=n())
df %>% group_by(anio, provincia, cant_vic) %>%
summarise(n=n()
total_vic = sum(cant_vic))
df %>% group_by(anio, provincia, cant_vic) %>%
summarise(n=n(),
total_vic = sum(cant_vic))
ggplot(df, aes(x=anio, color = provincia, size = cant_vic))+
geom_point()
tabla_prov_vic <- df %>% group_by(anio, provincia, cant_vic) %>%
summarise(n=n(),
total_vic = sum(cant_vic))
ggplot(tabla_prov_vic, aes(x=anio, color = provincia, size = cant_vic))+
geom_point()
ggplot(tabla_prov_vic, aes(x=anio, y = n, color = provincia, size = cant_vic))+
geom_point()
tabla_prov_vic <- df %>% group_by(anio, sexo_inculpado, cant_vic) %>%
summarise(n=n(),
total_vic = sum(cant_vic))
ggplot(tabla_prov_vic, aes(x=anio, y = n, color = sexo_inculpado, size = cant_vic))+
geom_point()
View(tabla_prov_vic)
tabla_prov_vic <- df %>% group_by(anio, sexo_inculpado) %>%
summarise(n=n(),
total_vic = sum(cant_vic))
View(tabla_prov_vic)
ggplot(tabla_prov_vic, aes(x=anio, y = n, color = sexo_inculpado, size = cant_vic))+
geom_point()
ggplot(tabla_prov_vic, aes(x=anio, y = n, color = sexo_inculpado, size = total_vic))+
geom_point()
tabla_prov_vic <- df %>% group_by(anio, provincia) %>%
summarise(n=n(),
total_vic = sum(cant_vic))
ggplot(tabla_prov_vic, aes(x=anio, y = n, color = provincia, size = total_vic))+
geom_point()
ggplot(tabla_prov_vic, aes(x=provincia, y = n, color = as.character(anio), size = total_vic))+
geom_point()
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)+
theme_minimal()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n)
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, fill = provincia, size = tasa_vic))+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, fill = provincia, size = tasa_vic))+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_fill_viridis_d()+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_fill_viridis_d()+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_color_viridis(discrete = TRUE)+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_color_viridis(discrete = TRUE)+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_color_viridis_d()+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_color_viridis_d(option = "magma")+
geom_point()
df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n) %>%
ggplot(aes(x = anio, y = n, color = provincia, size = tasa_vic))+
scale_color_viridis_d(option = "magma")+
scale_y_log10()+
geom_point()
ggplot(df, aes(x=anio, fill = provincia))+
geom_histogram(position = "fill")
ggplot(df, aes(x=anio, fill = provincia))+
geom_histogram(position = "fill")+
scale_fill_viridis_d(option="magma")
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_histogram(position = "dodge")+
scale_fill_manual(values = colores)
knitr::opts_chunk$set(echo=FALSE)
knitr::opts_chunk$set(echo=TRUE, message=FALSE, warning=FALSE, collapse=TRUE, highlight=TRUE, paged.print=FALSE, prompt=TRUE, strip.white=FALSE)
library(tidyverse)
df <- readxl::read_xlsx("data/Integrado_HD_base_usuaria_2017-2020.xlsx")
ggplot()
ggplot(df, aes(x=anio))+
geom_bar()
df %>% group_by(anio)%>%
summarise(total=sum(cant_vic))%>%
ggplot(aes(x=anio, y=total))+
geom_line()
df %>% group_by(anio)%>%
summarise(n=n())%>%
ungroup()%>%
mutate(total=sum(n),
perc = (n/total)*100)%>%
ggplot(aes(x=anio, y=perc))+
geom_col()
df %>% group_by(anio, clase_arma)%>%
summarise(n=n())%>%
ggplot(aes(x=anio, y=n, color=clase_arma))+
geom_line()
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")
library(viridis)
ggplot(df, aes(x=anio, fill = provincia))+
geom_bar(position = "fill")+
scale_fill_viridis_d(option="magma")
colores <- c("Femenino" = 'forestgreen', "Masculino" = 'darkorchid2')
df %>% filter(sexo_inculpado %in% c("Femenino", "Masculino"))%>%
ggplot(aes(x=anio, fill = sexo_inculpado))+
geom_bar(position = "dodge")+
scale_fill_manual(values = colores)
vict_prov_anio <- df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n)
ggplot(aes(vict_prov_anio, x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "magma")
vict_prov_anio
ggplot(aes(vict_prov_anio, x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "magma")
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "magma")
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "magma")
vict_prov_anio <- df %>% group_by(anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n)
head(vict_prov_anio)
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_color_viridis_d(option = "magma")
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "magma")
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_y_log10()+
scale_color_viridis_d(option = "inferno")
View(vict_prov_anio)
ggplot(vict_prov_anio, aes(x = anio, y = n, color = provincia, size = tasa_vic))+
geom_point()+
scale_color_viridis_d(option = "inferno")
View(df)
df %>% group_by(Id_hecho, anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))
df %>% group_by(Id_hecho, anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n)
View(df)
df %>% group_by(Id_hecho, anio)%>%
summarise(n=n())
df %>% group_by(anio)%>%
summarise(n=n_distinct(Id_hecho))
ggplot(df, aes(x=anio, y = n))+
geom_bar()
ggplot(df, aes(x=anio, y = n))+
geom_histogram()
tb1 <- df %>% group_by(anio)%>%
summarise(n=n_distinct(Id_hecho))
ggplot(df, aes(x=anio, y = n))+
geom_col()
ggplot(tb1, aes(x=anio, y = n))+
geom_histogram()
ggplot(tb1, aes(x=anio, y = n))+
geom_col()
ggplot(tb1, aes(x=anio, y = n))+
geom_histogram(stat = 'identity')
df %>% group_by(anio)%>%
summarise(total=sum(cant_vic))
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
ungroup()%>%
group_by(anio)%>%
mutate(total_vict = sum(cant_vic))
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
ungroup()%>%
group_by(anio)%>%
mutate(total_vict = sum(total))
View(df)
ggplot(aes(x=anio, y=total_vict))+
geom_line()
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
ungroup()%>%
group_by(anio)%>%
mutate(total_vict = sum(total)) %>%
ggplot(aes(x=anio, y=total_vict))+
geom_line()
View(df)
knitr::opts_chunk$set(echo=FALSE)
knitr::opts_chunk$set(echo=TRUE, message=FALSE, warning=FALSE, collapse=TRUE, highlight=TRUE, paged.print=FALSE, prompt=TRUE, strip.white=FALSE)
library(tidyverse)
df <- readxl::read_xlsx("data/Integrado_HD_base_usuaria_2017-2020.xlsx")
df %>% distinct()
df <- readxl::read_xlsx("data/Integrado_HD_base_usuaria_2017-2020.xlsx")
ggplot()
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
ungroup()%>%
group_by(anio)%>%
mutate(total_vict = sum(total)) %>%
ggplot(aes(x=anio, y=total_vict))+
geom_line()
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
ungroup()%>%
mutate(total_vict = sum(total)) %>%
ggplot(aes(x=anio, y=total_vict))+
geom_line()
df %>% group_by(anio, Id_hecho)%>%
summarise(total=sum(cant_vic))%>%
mutate(total_vict = sum(total)) %>%
ggplot(aes(x=anio, y=total_vict))+
geom_line()
df %>% group_by(anio)%>%
summarise(n=n())%>%
mutate(total=sum(n),
perc = (n/total)*100)%>%
ggplot(aes(x=anio, y=perc))+
geom_col()
vict_prov_anio <- df %>% group_by(Id_hecho, anio, provincia) %>%
summarise(n=n(),
tot_vic = sum(cant_vic))%>%
ungroup()%>%
mutate(tasa_vic = tot_vic/n)
head(vict_prov_anio)
